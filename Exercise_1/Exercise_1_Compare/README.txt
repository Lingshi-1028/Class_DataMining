===层次聚类与高斯混合模型（GMM）可视化对比项目===

一、项目概述
该项目实现了：层次聚类 与 高斯混合模型（GMM）两种无监督聚类算法，并提供了聚类结果可视化与轮廓系数评价功能，用于直观对比两种算法的聚类效果。

核心功能：
1、加载二维数据并进行指定数量的聚类；
2、实现层次聚类（单链接）与 GMM 的核心逻辑，输出样本聚类标签；
3、可视化两种算法的聚类结果，左右分栏对比；
4、计算并输出两种算法的轮廓系数，量化评估聚类质量。

二、环境依赖
必备 Python 库：
1、numpy：用于数值计算、矩阵操作、数据加载与处理；
2、matplotlib：用于聚类结果的可视化绘图；

安装依赖命令：
pip install numpy matplotlib

三、文件结构与数据准备
1、项目核心文件：包含该代码的.py文件（Exercise_1_Compare.py）；
2、数据文件：需在同一目录下放置名为Data.txt的数据集文件，要求如下：
	数据格式：纯文本格式，分隔符无特殊要求（代码已设置delimiter=None，自动识别空白分隔）；
	数据内容：每行至少包含 2 列数值（代码仅提取前 2 列作为聚类特征，即二维数据）；
	数据规模：无强制限制，大规模数据会增加层次聚类的计算耗时（单链接法时间复杂度较高）。

四、核心模块说明
1、数据加载模块
	函数名：load_data(file_path, n_samples)
	功能：加载指定路径的文本数据，提取前n_samples*总样本数行的前 2 列作为聚类数据（当n_samples=1时，加载全部数据）；
	参数导入：
		file_path：数据文件路径（默认'Data.txt'）；
		n_samples：数据加载比例（默认 1，即加载全部数据）；
返回值：二维numpy数组，形状为(样本数, 2)。

2、层次聚类模块（HierarchicalClustering类）
	聚类策略：单链接法（最短距离法），即两个聚类间的距离取两聚类中样本的最小欧氏距离；
	核心流程：
		1. 初始化：每个样本单独作为一个聚类；
		2. 构建样本间欧氏距离矩阵；
		3. 迭代合并距离最近的两个聚类，直到聚类数量达到目标值；
		4. 生成并返回每个样本的聚类标签；
	初始化参数：n_clusters（目标聚类数量，默认 2）；
	核心方法：fit(data)（输入数据，执行聚类并返回标签）。

3、 高斯混合模型模块（GMM类）
	聚类策略：基于EM（期望最大化）算法的高斯混合模型，假设数据服从多个高斯分布的混合分布；
	核心流程：
		1. 初始化：混合系数（均匀分布）、均值（随机选取样本）、协方差矩阵（数据整体协方差）；
		2. E 步：计算责任矩阵（每个样本属于每个高斯分布的后验概率）；
		3. M 步：更新混合系数、均值、协方差矩阵（添加微小对角项避免奇异矩阵）；
		4. 收敛判断：通过对数似然值的变化量判断是否停止迭代；
		5. 生成并返回每个样本的聚类标签（取后验概率最大的类别）；
	初始化参数：
		n_components：高斯分布数量（即目标聚类数量，默认 2）；
		max_iter：最大迭代次数（默认 100）；
		tol：收敛阈值（默认 1e-3）；
	核心方法：fit(data)（输入数据，执行聚类并返回标签）。

4、可视化模块
	函数名：plot_clusters(data, labels_hc, labels_gmm, title_hc, title_gmm)
	功能：绘制左右分栏的散点图，分别展示层次聚类与 GMM 的聚类结果；
	输出：弹出绘图窗口，横轴为数据第一列，纵轴为数据第二列，不同颜色代表不同聚类，使用tab20色板区分。

5、评价模块
	核心函数：evaluate_silhouette(data, labels_hc, labels_gmm)
	评价指标：轮廓系数（取值范围 [-1,1]，越接近 1 表示聚类效果越好，簇内紧凑性高、簇间分离度好）；
	流程：
		1. 调用calculate_silhouette_score分别计算两种算法的整体轮廓系数；
		2. 控制台打印精确到小数点后 6 位的结果；
	辅助函数：calculate_silhouette_score(data, labels)（计算单个算法的轮廓系数，遍历每个样本计算并求均值）。

6. 主函数模块（if __name__ == "__main__"）
	执行流程：加载数据→设定聚类数量→执行两种聚类算法→可视化结果→输出轮廓系数评价；
	默认配置：聚类数量n_clusters=10，GMM 最大迭代次数100。

五、运行步骤
1、准备环境：安装上述依赖库，确保 Python 环境正常；
2、准备数据：将Data.txt放置在与代码文件同一目录下，确保数据格式符合要求；
3、运行代码：直接运行该.py文件，可通过以下两种方式：
	命令行运行：python Exercise_1_Compare.py（替换为你的代码文件名）；
I	DE 运行：在 PyCharm、VS Code 等工具中直接点击运行按钮；
4、查看结果：
	自动弹出可视化窗口，展示两种算法的聚类散点图；
	控制台输出两种算法的轮廓系数，完成对比。

六、结果说明
1、可视化结果
	左侧图：层次聚类结果，标题为Hierarchical Clustering (k=目标聚类数)；
	右侧图：GMM 聚类结果，标题为GMM (k=目标聚类数)；
	散点颜色：不同颜色代表不同聚类，颜色映射使用tab20色板，支持最多 20 个聚类的清晰区分。
2、量化评价结果
	控制台输出两行结果，分别为层次聚类和 GMM 的轮廓系数；
	结果解读：
		轮廓系数越接近 1，说明该算法的聚类效果越优；
		轮廓系数接近 0，说明存在簇重叠的情况；
		轮廓系数为负数，说明样本可能被分配到错误的簇中。

七、参数调整建议
	1、聚类数量n_clusters：可修改主函数中的n_clusters值，适配不同数据集的聚类需求（建议根据数据分布合理设定）；
	2、GMM 迭代参数：可调整GMM类初始化时的max_iter（增大可提升收敛精度，减少可能导致未收敛）、tol（减小可提升收敛判断精度，增加计算耗时）；
	3、数据加载比例：若数据集过大，可修改load_data的第二个参数（如0.5，加载 50% 的数据），提升运行速度；
	4、层次聚类距离度量：当前为欧氏距离，可修改HierarchicalClustering类中的_distance方法，替换为曼哈顿距离等其他度量方式。

作者：梁子彦

层次聚类与高斯混合模型（GMM）可视化对比项目
创建日期：2025年12月29日


